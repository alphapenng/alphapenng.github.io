<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.108.0"><meta charset=utf-8><title>OpenWrt开启802.11k-v-r协议实现手机在路由器之间无缝漫游 · 寂寞留白</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async defer data-website-id=058488c2-18d4-498a-b683-0a898b3f6c7a src=https://data.pseudoyu.com/pseudoyu.js></script>
<script async src=https://cdn.splitbee.io/sb.js></script>
<script src=https://cdn.splitbee.io/sb-ab.js></script><meta name=description content="mesh 路由器基本概念 以一张脑图梳理一下 mesh 路由器的基本概念 ⚠️ 802.11k/v/r 这三个协议必须是路由器和设备同时支持才可以起作用 ⚠️ 设备这方面我们基本不用太担心,"><meta name=keywords content="geek,develop,network,programming"><link rel=canonical href=https://alphapenng.github.io/zh-cn/2022/12/02/openwrt%E5%BC%80%E5%90%AF802.11k-v-r%E5%8D%8F%E8%AE%AE%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E5%9C%A8%E8%B7%AF%E7%94%B1%E5%99%A8%E4%B9%8B%E9%97%B4%E6%97%A0%E7%BC%9D%E6%BC%AB%E6%B8%B8/><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous><link rel=stylesheet href=https://alphapenng.github.io/css/den.css><meta property="og:title" content="OpenWrt开启802.11k-v-r协议实现手机在路由器之间无缝漫游"><meta property="og:description" content="mesh 路由器基本概念 以一张脑图梳理一下 mesh 路由器的基本概念 ⚠️ 802.11k/v/r 这三个协议必须是路由器和设备同时支持才可以起作用 ⚠️ 设备这方面我们基本不用太担心,"><meta property="og:type" content="article"><meta property="og:url" content="https://alphapenng.github.io/zh-cn/2022/12/02/openwrt%E5%BC%80%E5%90%AF802.11k-v-r%E5%8D%8F%E8%AE%AE%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E5%9C%A8%E8%B7%AF%E7%94%B1%E5%99%A8%E4%B9%8B%E9%97%B4%E6%97%A0%E7%BC%9D%E6%BC%AB%E6%B8%B8/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-02T21:14:34+08:00"><meta property="article:modified_time" content="2022-12-02T21:14:34+08:00"><meta itemprop=name content="OpenWrt开启802.11k-v-r协议实现手机在路由器之间无缝漫游"><meta itemprop=description content="mesh 路由器基本概念 以一张脑图梳理一下 mesh 路由器的基本概念 ⚠️ 802.11k/v/r 这三个协议必须是路由器和设备同时支持才可以起作用 ⚠️ 设备这方面我们基本不用太担心,"><meta itemprop=datePublished content="2022-12-02T21:14:34+08:00"><meta itemprop=dateModified content="2022-12-02T21:14:34+08:00"><meta itemprop=wordCount content="602"><meta itemprop=keywords content="geek,homelab,"><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenWrt开启802.11k-v-r协议实现手机在路由器之间无缝漫游"><meta name=twitter:description content="mesh 路由器基本概念 以一张脑图梳理一下 mesh 路由器的基本概念 ⚠️ 802.11k/v/r 这三个协议必须是路由器和设备同时支持才可以起作用 ⚠️ 设备这方面我们基本不用太担心,"></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://alphapenng.github.io/images/background.jpg);background-position:50%;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://alphapenng.github.io/zh-cn/><img class="mr20 header-logo-image" src=https://alphapenng.github.io/images/avatar72.png alt=logo>
alphapenng</a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://alphapenng.github.io/zh-cn/category/network/>网络</a></li><li class=nav-item><a class=nav-link href=https://alphapenng.github.io/zh-cn/category/develop/>开发</a></li><li class=nav-item><a class=nav-link href=https://alphapenng.github.io/zh-cn/category/programming/>编程</a></li><li class=nav-item><a class=nav-link href=https://alphapenng.github.io/zh-cn/category/geek/>折腾</a></li><li class=nav-item><a class=nav-link href=https://alphapenng.github.io/en/><i class="fas fa-globe"></i> English</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>OpenWrt开启802.11k-v-r协议实现手机在路由器之间无缝漫游</h1><p class=header-date>作者:
alphapenng
| <span>602 字, 2 分钟</span>
| 2022-12-02
| 分类:
<a href=https://alphapenng.github.io/zh-cn/category/geek/>geek</a></p><div class=header-underline></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://alphapenng.github.io/zh-cn/tag/geek/>geek</a>,
<a href=https://alphapenng.github.io/zh-cn/tag/homelab/>homelab</a></p></div></div></div></div></div><main><div class="container content"><article><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_07_epB5YQ.png alt=toc></p><h2 id=mesh-路由器基本概念>mesh 路由器基本概念</h2><p><code>以一张脑图梳理一下 mesh 路由器的基本概念</code></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_07_OwGgb3.png alt=mesh></p><p>⚠️ <strong>802.11k/v/r 这三个协议必须是路由器和设备同时支持才可以起作用</strong> ⚠️</p><ul><li><p>设备这方面我们基本不用太担心,只要不是特别老的手机基本都支持</p></li><li><p>另一方面不是必须 802.11k/v/r 这三个协议同时支持才能达到无缝漫游的效果，事实上现在大部分的 mesh 路由器都只支持 K 和 V 这两个协议</p></li></ul><h2 id=openwrt-配置-80211kvr-协议实现无缝漫游>OpenWrt 配置 802.11k/v/r 协议实现无缝漫游</h2><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_04_IXO0rh.png alt=进入lan口修改页面></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_04_ZQPakc.png alt=修改IP地址></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_04_wVqsxW.png alt=修改dhcp设置></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_04_zRVMPx.png alt=修改ipv6设置></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_04_H0W4Lr.png alt=保存并应用></p><p>⚠️ <strong>无线参数需要在提供 wifi 接入的设备（包括主路由和每个 AP） 上都设置一次</strong> ⚠️</p><p>💁 <strong>由于前面的操作我们已经关闭了 AP 的 DHCP 服务，在连接主路由之前，如果需要把 AP 接到电脑上设置，要手动指定网卡的 IP 地址</strong></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_04_Gujron.png alt=进入无线配置页面></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_05_oJDzOB.png alt=选择信道及设置wifi名称></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_05_KjEi6o.png alt=无缝漫游设置></p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_05_sjgk94.png alt=保存并应用></p><p>用同样的方法可以设置其他 AP 或者主路由。</p><p>当我们设置好了所有的路由器以后，将路由器部署到家里指定位置，然后测试一下信号。</p><p>安卓手机可以下载一款叫做 <code>wifi分析仪</code> 的应用，<a href=https://github.com/VREMSoftwareDevelopment/WiFiAnalyzer/releases>下载链接</a>，打开后查看 wifi 详情</p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_05_uidQgU.png alt=wifi分析仪></p><p>接着去各大应用市场下载一款叫做“WiFi 魔盒”的应用，打开后进行如下操作进入漫游测试页面</p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_05_ygx8pm.png alt=wifi魔盒></p><p>将手机从一个路由器（AP）处慢慢移动至另一个路由器（AP）处，并再次返回，测试漫游切换功能。</p><p><img src=https://alphapenng-1305651397.cos.ap-shanghai.myqcloud.com/uPic/2022_12_05_8dtuXU.png alt=测试漫游></p><p>可以看到，漫游都是成功切换的，时间一次是 45ms，一次是 25ms，对于手机看视频等的日常应用是完全能够满足需要的，可以做到无感的，只是不要在手机玩游戏的时候频繁在房间里移动，在切换的时候还是会发生掉线。</p><h2 id=总结>总结</h2><ol><li><p>OpenWrt 系统 802.11k/v/r 漫游可以整合不同品牌路由器组成一个无缝漫游的网络</p></li><li><p>可分别设置 2.4G 和 5G 是否漫游</p></li><li><p>可根据使用需求单独设置信道，发射功率等参数，保证了组网的灵活性</p></li></ol></article><h2>相关文章</h2><dl class=row></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2022-11-21</dt><dd class=col-md-9><a href=/zh-cn/2022/11/21/epon-%E4%B8%8A%E8%A1%8C-e8-c-%E5%AE%B6%E5%BA%AD%E7%BD%91%E5%85%B3%E7%83%BD%E7%81%AB-hg220gs-telecomadmin-%E5%AF%86%E7%A0%81%E8%8E%B7%E5%8F%96%E5%8F%8A%E6%A1%A5%E6%8E%A5%E8%AE%BE%E7%BD%AE/>EPON 上行 E8 C 家庭网关（烽火 HG220GS） telecomadmin 密码获取及桥接设置</a></dd></dl><dt class=col-md-3>2022-10-06</dt><dd class=col-md-9><a href=/zh-cn/2022/10/06/%E7%BA%A2%E7%B1%B3-ax6-%E8%A7%A3%E9%94%81-ssh-%E5%88%B7%E6%9C%BA-openwrt-%E6%95%99%E7%A8%8B/>红米 AX6 解锁 SSH 安装 ShellClash 及刷机 Openwrt 教程</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><div align=center><div class=comment-underline></div></div><br><div id=cusdis_thread data-host=https://cusdis.com data-app-id=34a447f4-be9d-4312-b87b-2c5bfcfc7658 data-page-id=049f9417b53f7a20fae0b9edb1c413f7 data-page-url=https://alphapenng.github.io/zh-cn/2022/12/02/openwrt%E5%BC%80%E5%90%AF802.11k-v-r%E5%8D%8F%E8%AE%AE%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E5%9C%A8%E8%B7%AF%E7%94%B1%E5%99%A8%E4%B9%8B%E9%97%B4%E6%97%A0%E7%BC%9D%E6%BC%AB%E6%B8%B8/ data-page-title=OpenWrt开启802.11k-v-r协议实现手机在路由器之间无缝漫游></div><script defer src=https://cusdis.com/js/widget/lang/zh-cn.js></script>
<script async defer src=https://cusdis.com/js/cusdis.es.js></script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>网站地图</div><ul class=list-unstyled><li><a href=https://alphapenng.github.io/zh-cn/tags/>标签</a></li><li><a href=https://alphapenng.github.io/zh-cn/categories/>分类</a></li><li><a rel=alternate type=application/rss+xml href=https://alphapenng.github.io/zh-cn/index.xml><i class="fas fa-rss-square"></i> RSS</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em>Powered by <a href=https://gohugo.io rel=noopener target=_blank>Hugo</a> - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>den</a></em></small><br><small>&copy;
alphapenng
2022</small></p></div></div></div></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script></body></html>